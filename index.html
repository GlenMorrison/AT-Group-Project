<html>
<head>
  <meta charset="utf-8"/>
  <title>AT Software Project</title>

  <style>

    .keyboard{
      display: block;
    }

    textarea{
      height: 40px;
      font-size: 2em;
      border-radius: 20px;
      font-family: Helvetica, sans-serif;
    }

    .output-row{
      width: 900px;
      margin-left: 20px;
    }

    .top-row{
      margin-left: 0px;
      margin-top: 5px;
    }

    .middle-row{
      margin-left: 10px;
      margin-top: 5px;
    }

    .bottom-row{
      margin-left: 55px;
      margin-top: 5px;
    }

    .function-row{
      margin-left: 40px;
      margin-top: 20px;
    }

    button{
      width: 40px;
      height: 50px;
      border-radius: 10px;
      font-size: 1.5em;
      font-family: Helvetica, sans-serif;
    }

    #spacebar{
      width: 140px;
    } 

    #backspace{
      width: 140px;
    }

  </style>

</head>
<body>

  <div class='output-row'>
      <textarea id='word_display'>awdawd</textarea>
  </div>

  <div class='keboard-keys'>
    <div class='top-row'>
      <button class="key" id="q" onclick="btnClick(this)">q</button>
      <button class="key" id="w" onclick="btnClick(this)">w</button>
      <button class="key" id="e" onclick="btnClick(this)">e</button>
      <button class="key" id="r" onclick="btnClick(this)">r</button>
      <button class="key" id="t" onclick="btnClick(this)">t</button>
      <button class="key" id="y" onclick="btnClick(this)">y</button>
      <button class="key" id="u" onclick="btnClick(this)">u</button>
      <button class="key" id="i" onclick="btnClick(this)">i</button>
      <button class="key" id="o" onclick="btnClick(this)">o</button>
      <button class="key" id="p" onclick="btnClick(this)">p</button>
    </div>
    <div class='middle-row'>
        <button class="key" id="a" onclick="btnClick(this)">w</button>
        <button class="key" id="s" onclick="btnClick(this)">s</button>
        <button class="key" id="d" onclick="btnClick(this)">d</button>
        <button class="key" id="f" onclick="btnClick(this)">f</button>
        <button class="key" id="g" onclick="btnClick(this)">g</button>
        <button class="key" id="h" onclick="btnClick(this)">h</button>
        <button class="key" id="j" onclick="btnClick(this)">j</button>
        <button class="key" id="k" onclick="btnClick(this)">k</button>
        <button class="key" id="l" onclick="btnClick(this)">l</button>
    </div>
    <div class='bottom-row'>
        <button class="key" id="z" onclick="btnClick(this)">z</button>
        <button class="key" id="x" onclick="btnClick(this)">x</button>
        <button class="key" id="c" onclick="btnClick(this)">c</button>
        <button class="key" id="v" onclick="btnClick(this)">v</button>
        <button class="key" id="b" onclick="btnClick(this)">b</button>
        <button class="key" id="n" onclick="btnClick(this)">n</button>
        <button class="key" id="m" onclick="btnClick(this)">m</button>
    </div>
    <div class='function-row'>
      <button class="key" id="backspace" onclick="btnClick(this)">back</button>
      <button class="key" id="spacebar" onclick="btnClick(this)">space</button>
    </div>
  </div>

</body>

<script type="text/javascript">

  // the current word being typed (seperated by spaces)
  let crntWord;
  
  // the whole sentence (all words typed already)
  var crntSentence = [];

  // the element that displayed the output
  var wordDisplay = document.getElementById('word_display');


  // adds strings to the current word
  function UpdateCurrentWord(str){
    wordDisplay.innerHTML = str;
  }

  // adds strings to the current sentence
  function UpdateSentence(str){
    crntSentence = str;
  }

  // inserts a blank space and resets current word
  function SpaceKey(){
    UpdateSentence(crntSentence + ' ');
    UpdateCurrentWord(wordDisplay.innerHTML + ' ');
  };

  // removes one char from the end of the whole sentence
  function Backspace(){
    UpdateSentence(crntSentence.slice(0, - 1));
    UpdateCurrentWord(wordDisplay.innerHTML.slice(0, - 1));
  };

  // adds a char form the alphabet to the current word
  function AlphabetKey(key){
    UpdateSentence(crntSentence + key.innerHTML);
    UpdateCurrentWord(wordDisplay.innerHTML + key.innerHTML);
    WordUpdate();
  }

  // called when a keyboard button is pressed
  var btnClick = function(key){
    switch(key.id) {
      case 'spacebar':
        SpaceKey();
        break;
      case 'backspace':
        Backspace();
        break;
      default:
        AlphabetKey(key);
    }
  };

  /*
    runs anytime the current word has been updated.
    send the word to the predictor to give the user
    a new prediciton if needed
  */
  function WordUpdate(){
    console.log('initialize word to be predicted');
  }

  /*
    generate a new prediction based on the 
    current word the user is typing.
  */
  function GetNewPrediction(){
    console.log('Get prediction based on current word');
  }

  /*
    show the current next to the next letter that 
    the user has to press to get that word
    (
      i.e. 'happy' would show above the 'y' key while the user
      has typed in 'happ'
    )s
  */
  function ShowPrediciton(destinationKey){
    console.log('show prediction above a key here');
  }

</script>